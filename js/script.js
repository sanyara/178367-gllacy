ymaps.ready(function(){var e=new ymaps.Map("map",{center:[59.9394,30.3294],zoom:16},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark([59.9386,30.3231],{hintContent:"Магазин мороженого Глейси",balloonContent:"Ждем Вас!"},{iconLayout:"default#image",iconImageHref:"img/pin.png",iconImageSize:[218,142],iconImageOffset:[-40,-140]});e.geoObjects.add(o),e.behaviors.disable(["scrollZoom"])});var link=document.querySelector(".leave-feedback-btn"),popup=document.querySelector(".modal-content"),close=popup.querySelector(".modal-close-btn"),login=popup.querySelector("[name=feedback-name]"),form=popup.querySelector(".feedback-form"),email=popup.querySelector("[name=feedback-mail]"),overlay=document.querySelector(".modal-overlay"),textInputs=form.querySelectorAll("*[required]"),submitBtn=form.querySelector("input[type='submit']");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-content-show"),overlay.classList.add("modal-overlay-show"),login.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show"),form.classList.remove("modal-error")}),form.addEventListener("submit",function(e){login.value&&email.value||e.preventDefault()}),submitBtn.addEventListener("mousedown",function(e){form.classList.remove("modal-error")}),submitBtn.addEventListener("mouseup",function(e){for(var o=0;o<textInputs.length;o++)0==textInputs[o].checkValidity()&&form.classList.add("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-content-show")&&(popup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show"),form.classList.remove("modal-error"))}),overlay.addEventListener("click",function(e){popup.classList.contains("modal-content-show")&&(popup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show"),form.classList.remove("modal-error"))});